import{i as L,u as g,r as u,M as y,m as S,a as j,f as x,b as k,d as l,e as v,j as f,h as m}from"./index-BSGr1drJ.js";function M(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],o=t[2+n],c=t[3+n],i=L(s,o,c);return e?i(r):i}function A(t){const e=g(()=>S(t)),{isStatic:n}=u.useContext(y);if(n){const[,r]=u.useState(t);u.useEffect(()=>e.on("change",r),[])}return e}function C(t,e){const n=A(e()),r=()=>n.set(e());return r(),j(()=>{const s=()=>x.preRender(r,!1,!0),o=t.map(c=>c.on("change",s));return()=>{o.forEach(c=>c()),k(r)}}),n}function V(t){l.current=[],t();const e=C(l.current,t);return l.current=void 0,e}function h(t,e,n,r){if(typeof t=="function")return V(t);const s=typeof e=="function"?e:M(e,n,r);return Array.isArray(t)?p(t,s):p([t],([o])=>s(o))}function p(t,e){const n=g(()=>[]);return C(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}function w(t){const e=u.useRef(0),{isStatic:n}=u.useContext(y);u.useEffect(()=>{if(n)return;const r=({timestamp:s,delta:o})=>{e.current||(e.current=s),t(s-e.current,o)};return x.update(r,!0),()=>k(r)},[t])}const d=`
  M 20 120 
  C 80 20, 220 20, 280 120 
  S 420 220, 480 120
`,R=()=>{const t=v(),e=A(0),n=u.useRef(null),[r,s]=u.useState(0);u.useEffect(()=>{n.current&&s(n.current.getTotalLength())},[]);const o=h(e,a=>`${r*a} ${r}`),c=h(e,a=>!n.current||r===0?0:n.current.getPointAtLength(r*a).x),i=h(e,a=>!n.current||r===0?0:n.current.getPointAtLength(r*a).y);return w(a=>{const E=a/4e3%1;e.set(E)}),f.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 500 200",style:{overflow:"visible"},children:[f.jsx(m.path,{d,fill:"none",stroke:t.palette.primary.main,strokeWidth:4,style:{strokeDasharray:o,strokeDashoffset:0}}),f.jsx("path",{ref:n,d,fill:"none",stroke:"transparent",strokeWidth:4,strokeDasharray:`${r} ${r}`,strokeDashoffset:r?-r*e.get():0}),f.jsx(m.circle,{r:8,fill:"white",stroke:t.palette.primary.main,strokeWidth:4,cx:c,cy:i})]})};export{R as TrackingAnimation};
